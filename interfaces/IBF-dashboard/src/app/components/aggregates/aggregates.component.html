<div>
  <ion-grid class="ion-no-padding">
    <ion-item
      color="medium"
      lines="none"
      class="aggregate-header-item"
      title="Situation in {{ getHeaderLabel() }}"
    >
      <ion-label class="aggregate-header-item-label">
        {{ getHeaderLabel() }}
      </ion-label>
      <ion-button
        slot="end"
        fill="clear"
        *ngIf="placeCode"
        color="light"
        (click)="clearPlaceCode()"
      >
        <ion-icon name="close" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>
    <div *ngFor="let group of groups">
      <ion-row *ngFor="let indicator of indicators" class="ion-no-padding">
        <ng-container *ngIf="indicator.group === group">
          <ion-col
            size-lg="8"
            size-md="8"
            size-xs="8"
            title="Click to visualize in map"
          >
            <ion-item lines="inset" class="aggregate-item ion-no-padding">
              <ion-thumbnail slot="start" class="aggregate-item-thumbnail">
                <ion-img src="assets/icons/{{ indicator.icon }}"></ion-img>
              </ion-thumbnail>
              <ion-label class="aggregate-item-label" [title]="indicator.label">
                {{ indicator.label }}
              </ion-label>
            </ion-item>
          </ion-col>
          <ion-col size-lg="3" size-md="3" size-xs="3">
            <ion-item class="aggregate-item-value ion-no-padding">
              <ion-label class="ion-text-right">
                <span *ngIf="indicator.numberFormatAggregate === 'decimal2'">
                  {{ this.getAggregate(indicator.name, indicator.weightedAvg) | number: '.2-2' }}
                </span>
                <span *ngIf="indicator.numberFormatAggregate === 'decimal0'">
                  {{ this.getAggregate(indicator.name, indicator.weightedAvg) | number: '.0-0' }}
                </span>
                <span *ngIf="indicator.numberFormatAggregate === 'perc'">
                  {{ this.getAggregate(indicator.name, indicator.weightedAvg) | percent: '.0-0' }}
                </span>
              </ion-label>
            </ion-item>
          </ion-col>
          <ion-col
            size-lg="1"
            size-md="1"
            size-xs="1"
            title="Click for more info on this indicator."
          >
            <ion-item class="aggregate-item-information-icon ion-no-padding">
              <ion-label class="ion-text-center">
                <img
                  class="info-img"
                  src="assets/icons/source-info.svg"
                  (click)="moreInfo(indicator)"
                />
              </ion-label>
            </ion-item>
          </ion-col>
        </ng-container>
      </ion-row>
    </div>
  </ion-grid>
</div>
